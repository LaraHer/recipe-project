<!DOCTYPE html>
<html>
<head>

<script  src="jquery.js"> </script>
<link type="text/css" rel="stylesheet" href="stylesheet.css"/>
<meta charset="utf-8">

<title>Rezeptliste</title>

<script type="text/javascript">

var cur = 0;

shoppinglist = new Array ();

function loadData(){

	var rezeptBuch = new Array ();

	var zutatenListe = new Array();

	zutatenListe.push ({name: "Salat", menge: 1, einheit: "Stück"});
	zutatenListe.push ({name: "Tomaten", menge: 300, einheit: "g"});
	zutatenListe.push ({name: "Gurke", menge: 150, einheit: "g"});
	zutatenListe.push ({name: "Feta", menge: 200, einheit: "g"});
	zutatenListe.push ({name: "Oliven", menge: 120, einheit: "g"});
	zutatenListe.push ({name: "Olivenöl", menge: 6, einheit: "EL"});
	zutatenListe.push ({name: "Balsamico Essig", menge: 2, einheit: "EL"});
	zutatenListe.push ({name: "Salz", menge: 1, einheit: "Prise"});
	zutatenListe.push ({name: "Pfeffer", menge: 1, einheit: "Prise"});

	rezeptBuch.push( 
		{titel: "Salat", 
		 zutaten : zutatenListe, 
		 text:"Ein Salat ist einfach", 
		 zeit : 15
		}
	);
	
	zutatenListe = new Array();

	zutatenListe.push ({name: "Frühlingszwiebeln", menge: 4, einheit: "Stück"});
	zutatenListe.push ({name: "Chilischote", menge: 1, einheit: "Stück"});
	zutatenListe.push ({name: "Koriandergrün", menge: 15, einheit: "g"});
	zutatenListe.push ({name: "Tomaten", menge: 750, einheit: "g"});
	zutatenListe.push ({name: "Knoblauchzehen", menge: 2, einheit: "Stück"});
	zutatenListe.push ({name: "Kichererbsen", menge: 400, einheit: "g"});
	zutatenListe.push ({name: "Feta", menge: 30, einheit: "g"});
	zutatenListe.push ({name: "Limetten", menge: 1, einheit: "Stück"});

	rezeptBuch.push( 
		{titel: "Tomatensuppe", 
		 zutaten : zutatenListe, 
		 text:"Ist total einfach", 
		 zeit : 30
		}
	);

	zutatenListe = new Array();

	zutatenListe.push ({name: "Paprika", menge: 200, einheit: "g"});
	zutatenListe.push ({name: "Zucchini", menge: 250, einheit: "g"});
	zutatenListe.push ({name: "Chilischote", menge: 1, einheit: "Stück"});
	zutatenListe.push ({name: "Vollkorn-Baguette", menge: 40, einheit: "g"});
	zutatenListe.push ({name: "Olivenöl", menge: 2, einheit: "EL"});
	zutatenListe.push ({name: "Bandnudeln", menge: 400, einheit: "g"});
	zutatenListe.push ({name: "Salz", menge: 1, einheit: "Prise"});
	zutatenListe.push ({name: "Rapsöl", menge: 1, einheit: "EL"});
	zutatenListe.push ({name: "Knoblauchzehe", menge: 1, einheit: "Stück"});
	zutatenListe.push ({name: "Pfeffer", menge: 1, einheit: "Prise"});

	rezeptBuch.push( 
		{titel: "Paprika-Zucchini-Nudeln", 
		 zutaten : zutatenListe, 
		 text:"leicht", 
		 zeit : 45
		}
	);	

	return rezeptBuch;

}
	

function zeigeRezept(){

	var liste = loadData();  //kann später durch Daten laden aus dem Internet

	var myString = "<h2>"+liste[cur].titel+"</h2>";
	
	myString += "<table>";
	myString += "<tr><td><b>Zutaten</b></td><td><b>Menge</b></td><td></td></tr>";	
	for (var i = 0; i < liste[cur].zutaten.length; i++){	
	myString += "<tr><td>"+liste[cur].zutaten[i].name+"</td><td>"+liste[cur].zutaten[i].menge+" "+liste[cur].zutaten[i].einheit+"</td><td><a id='button' onClick='addToListe(\""+liste[cur].zutaten[i].name+"\")' href='#' >hinzufügen</a></td></tr>";
	}
	myString += "</table><br/>";

	myString += "<table>";
	myString += "<tr><td>Zubereitung</td><td>"+liste[cur].text+"</td></tr>";
	myString += "</table><br/>";
	
	myString += "<table>";
	myString += "<tr><td>Dauer</td><td>"+liste[cur].zeit+" Minuten</td></tr>";
	
    myString += "</table><br/>";
//in dritte Zeile noch ein plus zum hinzufügen. 

	document.getElementById('display').innerHTML = myString;
}	

function vor(){
	if (cur < 3){cur++;} //Länge des Rezeptes
	console.log("Aktuelles Rezept:"+cur);
	zeigeRezept();
}

function zurueck(){
	if (cur > 0){cur--;}
	console.log("Aktuelles Rezept:"+cur);
	zeigeRezept();
}


function zeigeshoppinglist(){
	
	var myString = "<h2>Einkaufsliste</h2>";
	
	myString += "<ul>";
	for (var i = 0; i < shoppinglist.length; i++){	
		myString += "<li>"+shoppinglist[i]+"</li>";
	}

	myString += "</ul>";

	document.getElementById('display2').innerHTML = myString;
}


function addToListe(eintrag) {

	console.log("Hinzugefügt " + eintrag);
	shoppinglist.push(eintrag);

	}
	
	

</script>

</head>
<body onload="zeigeRezept()">

<h1>Rezepte</h1>

<a onclick="zeigeshoppinglist()" href="#">Einkaufsliste</a>

<br/>
<br/>

<a onclick="zurueck()" href="#">Zurück</a>

<a onclick="vor()" href="#">Vor</a>

<div id="display"></div>

<div id="display2"></div>


</body>
</html>
